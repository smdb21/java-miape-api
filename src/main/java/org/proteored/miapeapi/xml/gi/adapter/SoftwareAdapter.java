package org.proteored.miapeapi.xml.gi.adapter;

import org.proteored.miapeapi.cv.gi.ImageAnalysisSoftwareName;
import org.proteored.miapeapi.cv.msi.DataTransformation;
import org.proteored.miapeapi.interfaces.Adapter;
import org.proteored.miapeapi.interfaces.Software;
import org.proteored.miapeapi.xml.gi.autogenerated.MIAPESoftwareType;
import org.proteored.miapeapi.xml.gi.autogenerated.ObjectFactory;
import org.proteored.miapeapi.xml.gi.util.GIControlVocabularyXmlFactory;

public class SoftwareAdapter implements Adapter<MIAPESoftwareType> {
	private final Software software;
	private final ObjectFactory factory;
	private final GIControlVocabularyXmlFactory cvFactory;

	public SoftwareAdapter(Software software, ObjectFactory factory,
			GIControlVocabularyXmlFactory cvFactory) {
		this.software = software;
		this.factory = factory;
		this.cvFactory = cvFactory;
	}

	@Override
	public MIAPESoftwareType adapt() {
		MIAPESoftwareType softwareTypeXML = factory.createMIAPESoftwareType();
		softwareTypeXML.setCatalogNumber(software.getCatalogNumber());
		softwareTypeXML.setComments(software.getComments());
		softwareTypeXML.setCustomizations(software.getCustomizations());
		softwareTypeXML.setDescription(cvFactory.createCV(software.getDescription(), null,
				DataTransformation.getInstance(cvFactory.getCvManager())));
		softwareTypeXML.setManufacturer(software.getManufacturer());
		softwareTypeXML.setModel(software.getModel());
		softwareTypeXML.setVersion(software.getVersion());
		softwareTypeXML.setParameters(software.getParameters());
		softwareTypeXML.setURI(software.getURI());
		softwareTypeXML.setName(cvFactory.createCV(software.getName(), null,
				ImageAnalysisSoftwareName.getInstance(cvFactory.getCvManager())));

		return softwareTypeXML;
	}
}
