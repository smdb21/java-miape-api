package org.proteored.miapeapi.xml.gi;

import java.util.Map;

import org.proteored.miapeapi.interfaces.gi.ImageGelInformatics;
import org.proteored.miapeapi.interfaces.gi.Matching;
import org.proteored.miapeapi.xml.gi.autogenerated.GIImage;
import org.proteored.miapeapi.xml.gi.autogenerated.GIMatchingType;

public class MatchingImpl extends AlgorithmImpl implements Matching {
	private final GIMatchingType matchingXML;
	private final Map<String, GIImage> imageMap;

	public MatchingImpl(GIMatchingType matchingXML, Map<String, GIImage> imageMap) {
		super(matchingXML);
		this.matchingXML = matchingXML;
		this.imageMap = imageMap;
	}

	@Override
	public String getEditing() {
		return matchingXML.getEditing();
	}

	@Override
	public String getLandmarks() {
		return matchingXML.getLandmarks();
	}

	@Override
	public ImageGelInformatics getReferenceImage() {
		if (imageMap.containsKey(matchingXML.getReferenceImage())) {
			return new ImageImpl(imageMap.get(matchingXML.getReferenceImage()));
		}
		return null;
	}

	@Override
	public String getStepOrder() {
		return matchingXML.getStepOrder();
	}

}
