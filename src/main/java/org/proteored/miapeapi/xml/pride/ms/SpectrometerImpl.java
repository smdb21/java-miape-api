package org.proteored.miapeapi.xml.pride.ms;

import java.util.List;

import org.proteored.miapeapi.interfaces.ms.Spectrometer;
import org.proteored.miapeapi.xml.pride.autogenerated.InstrumentDescriptionType;
import org.proteored.miapeapi.xml.pride.util.Parameter;
import org.proteored.miapeapi.xml.pride.util.Utils;

public class SpectrometerImpl implements Spectrometer {
	private final String name;
	private final String model;
	private final String customizations;
	private final Integer identifier;

	public SpectrometerImpl(InstrumentDescriptionType instrument, Integer identifier) {
		name = instrument.getInstrumentName();
		model = name;
		customizations = createCustomizations(instrument);
		this.identifier = identifier;
	}

	private String createCustomizations(InstrumentDescriptionType instrument) {

		if (instrument.getAdditional() != null) {
			StringBuilder commentsSb = new StringBuilder();
			List<Parameter> listParameter = Utils.createListParameter(instrument.getAdditional()
					.getCvParamOrUserParam(), null);
			if (listParameter != null) {
				for (Parameter param : listParameter) {
					commentsSb.append(param.getName() + ": ");
					commentsSb.append(param.getValue() + ";");
				}
				return commentsSb.toString();
			}
		}
		return null;
	}

	@Override
	public String getModel() {
		return model;
	}

	@Override
	public String getName() {
		return name;
	}

	@Override
	public String getCatalogNumber() {
		// TODO Auto-generated method stub
		return null;
	}

	@Override
	public String getComments() {
		// TODO Auto-generated method stub
		return null;
	}

	@Override
	public String getDescription() {
		// TODO Auto-generated method stub
		return null;
	}

	@Override
	public String getManufacturer() {
		// TODO Auto-generated method stub
		return null;
	}

	@Override
	public String getParameters() {
		// TODO Auto-generated method stub
		return null;
	}

	@Override
	public String getUri() {
		// TODO Auto-generated method stub
		return null;
	}

	@Override
	public String getVersion() {
		// TODO Auto-generated method stub
		return null;
	}

	@Override
	public String getCustomizations() {
		return customizations;
	}

	@Override
	public int getId() {
		if (identifier != null)
			return identifier;
		return -1;
	}

}
