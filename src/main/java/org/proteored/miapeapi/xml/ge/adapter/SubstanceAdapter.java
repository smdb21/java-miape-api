package org.proteored.miapeapi.xml.ge.adapter;

import org.proteored.miapeapi.cv.ge.SubstanceConcentrationUnit;
import org.proteored.miapeapi.cv.ge.SubstanceMassUnit;
import org.proteored.miapeapi.cv.ge.SubstanceName;
import org.proteored.miapeapi.cv.ge.SubstanceVolumeUnit;
import org.proteored.miapeapi.interfaces.Adapter;
import org.proteored.miapeapi.interfaces.Substance;
import org.proteored.miapeapi.xml.ge.autogenerated.MIAPESubstanceType;
import org.proteored.miapeapi.xml.ge.autogenerated.ObjectFactory;
import org.proteored.miapeapi.xml.ge.util.GEControlVocabularyXmlFactory;
import org.proteored.miapeapi.xml.util.MiapeXmlUtil;

public class SubstanceAdapter implements Adapter<MIAPESubstanceType> {
	private final ObjectFactory factory;
	protected final GEControlVocabularyXmlFactory cvFactory;
	protected final Substance substance;

	public SubstanceAdapter(Substance substance2, ObjectFactory factory2,
			GEControlVocabularyXmlFactory cvFactory2) {
		this.factory = factory2;
		this.cvFactory = cvFactory2;
		this.substance = substance2;
	}

	@Override
	public MIAPESubstanceType adapt() {
		MIAPESubstanceType substanceXML = factory.createMIAPESubstanceType();
		substanceXML.setConcentration(cvFactory.createParamUnit(substance.getConcentration(),
				substance.getConcentrationUnit(),
				SubstanceConcentrationUnit.getInstance(cvFactory.getCvManager())));
		substanceXML.setDescription(substance.getDescription());
		substanceXML.setName(cvFactory.createCV(substance.getName(), null,
				SubstanceName.getInstance(cvFactory.getCvManager())));
		substanceXML.setMass(cvFactory.createParamUnit(substance.getMass(),
				substance.getMassUnit(), SubstanceMassUnit.getInstance(cvFactory.getCvManager())));
		substanceXML.setType(substance.getType());
		substanceXML.setVolume(cvFactory.createParamUnit(substance.getVolume(),
				substance.getVolumeUnit(),
				SubstanceVolumeUnit.getInstance(cvFactory.getCvManager())));
		substanceXML.setId(MiapeXmlUtil.IdentifierPrefixes.SUBSTANCE.getPrefix()
				+ substance.getId());
		return substanceXML;
	}

}
