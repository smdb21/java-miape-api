package org.proteored.miapeapi.xml.ge;

import java.util.HashSet;
import java.util.List;
import java.util.Set;

import org.proteored.miapeapi.interfaces.Buffer;
import org.proteored.miapeapi.interfaces.Equipment;
import org.proteored.miapeapi.interfaces.ge.DirectDetection;
import org.proteored.miapeapi.interfaces.ge.DirectDetectionAgent;
import org.proteored.miapeapi.xml.ge.autogenerated.GEDirectDetection;
import org.proteored.miapeapi.xml.ge.autogenerated.MIAPEBufferType;
import org.proteored.miapeapi.xml.ge.autogenerated.MIAPEGEEquipmentType;
import org.proteored.miapeapi.xml.ge.autogenerated.MIAPESubstanceType;
import org.proteored.miapeapi.xml.util.MiapeXmlUtil;

public class DirectDetectionImpl implements DirectDetection {
	private final GEDirectDetection directDetectionXML;

	public DirectDetectionImpl(GEDirectDetection directDetectionItem) {
		this.directDetectionXML = directDetectionItem;
	}

	@Override
	public Set<DirectDetectionAgent> getAdditionalAgents() {
		Set<DirectDetectionAgent> setOfSubstances = new HashSet<DirectDetectionAgent>();
		List<MIAPESubstanceType> substanceList = directDetectionXML.getGEDetectionAdditionalAgent();
		for (MIAPESubstanceType SubstanceItem : substanceList){
			setOfSubstances.add(new DirectDetectionAgentImpl(SubstanceItem));
		}
		return setOfSubstances;
	}

	@Override
	public Set<Buffer> getBuffers() {
		Set<Buffer> setOfBuffers = new HashSet<Buffer>();
		List<MIAPEBufferType> bufferList = directDetectionXML.getGEDetectionBuffer();
		for (MIAPEBufferType bufferItem : bufferList)
			setOfBuffers.add(new BufferImpl(bufferItem));
		return setOfBuffers;
	}

	@Override
	public Set<DirectDetectionAgent> getAgents() {
		Set<DirectDetectionAgent> setOfDirectDetectionAgents = new HashSet<DirectDetectionAgent>();
		List<MIAPESubstanceType> substanceList = directDetectionXML.getGEDetectionAgent();
		for (MIAPESubstanceType substanceItem : substanceList)
			setOfDirectDetectionAgents.add(new DirectDetectionAgentImpl(substanceItem));
		return setOfDirectDetectionAgents;
	}

	@Override
	public Set<Equipment> getDetectionEquipments() {
		Set<Equipment> setOfEquipment = new HashSet<Equipment>();
		List<MIAPEGEEquipmentType> equipmentList = directDetectionXML.getGEDetectionEquipment();
		for (MIAPEGEEquipmentType equipmentItem : equipmentList)
			setOfEquipment.add(new EquipmentImpl(equipmentItem));
		return setOfEquipment;
	}

	@Override
	public String getName() {
		return directDetectionXML.getName();
	}

	@Override
	public String getProtocol() {
		return directDetectionXML.getProtocol();
	}

	@Override
	public int getId() {
		return MiapeXmlUtil.getIdFromXMLId(directDetectionXML.getId());
	}

}
